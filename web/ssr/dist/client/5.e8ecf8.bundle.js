webpackJsonp([5],{132:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n(152),i=n.n(a);for(var o in a)"default"!==o&&function(t){n.d(e,t,function(){return a[t]})}(o);var c=n(173);var r=function(t){n(171)},l=n(54)(i.a,c.a,!1,r,"data-v-52d0d1bc",null);e.default=l.exports},137:function(t,e,n){"use strict";e.__esModule=!0;var a,i=n(138),o=(a=i)&&a.__esModule?a:{default:a};e.default=o.default||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t}},138:function(t,e,n){t.exports={default:n(139),__esModule:!0}},139:function(t,e,n){n(140),t.exports=n(3).Object.assign},140:function(t,e,n){var a=n(9);a(a.S+a.F,"Object",{assign:n(141)})},141:function(t,e,n){"use strict";var a=n(52),i=n(142),o=n(143),c=n(53),r=n(55),l=Object.assign;t.exports=!l||n(26)(function(){var t={},e={},n=Symbol(),a="abcdefghijklmnopqrst";return t[n]=7,a.split("").forEach(function(t){e[t]=t}),7!=l({},t)[n]||Object.keys(l({},e)).join("")!=a})?function(t,e){for(var n=c(t),l=arguments.length,d=1,s=i.f,m=o.f;l>d;)for(var p,u=r(arguments[d++]),f=s?a(u).concat(s(u)):a(u),v=f.length,b=0;v>b;)m.call(u,p=f[b++])&&(n[p]=u[p]);return n}:l},142:function(t,e){e.f=Object.getOwnPropertySymbols},143:function(t,e){e.f={}.propertyIsEnumerable},152:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=c(n(137)),i=n(29),o=c(n(56));function c(t){return t&&t.__esModule?t:{default:t}}e.default={props:["id"],name:"display-article",data:function(){return{vue_env:"client",commentList:[],articleComment:""}},asyncData:function(t,e,n){var a=t.store,i=(t.route,e.replace("/main/displayArticle/",""));return a.dispatch("getArticleData",{id:{id:i},cookies:n})},computed:(0,a.default)({},(0,i.mapGetters)(["articleContent","tags"])),watch:{$route:function(){this.commentList=[],this.getArticleData(),this.getArticleComment(),window.scrollTo(0,0)}},methods:{submitComment:function(){var t=this;this.articleComment?o.default.addArticleComment({articleId:parseInt(this.id),comment:this.articleComment}).then(function(e){200===e.data.code&&t.getArticleComment()}):alert("请输入评论")},jumpTopFn:function(){var t=setInterval(function(){if(document.documentElement.scrollTop<=0)return document.documentElement.scrollTop=0,void clearInterval(t);document.documentElement.scrollTop-=50},5)},getArticleData:function(){var t=this;this.$store.dispatch("getArticleData",{id:{id:this.id}}).then(function(e){t.loadding=!1,200===e[0].data.code&&200===e[1].data.code||t.$message.error(e.data.message)})},getArticleComment:function(){var t=this;o.default.getArticleComment(parseInt(this.id)).then(function(e){200===e.data.code&&(t.commentList=e.data.data)})}},mounted:function(){window.__INITIAL_STATE__||this.getArticleData(),this.commentList=[],this.getArticleComment()},updated:function(){}}},171:function(t,e,n){var a=n(172);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);n(28)("6f8b991b",a,!0,{})},172:function(t,e,n){(t.exports=n(27)(!1)).push([t.i,".displayArticle[data-v-52d0d1bc]{position:relative;margin:0 auto}.content[data-v-52d0d1bc]{background-color:#fff;padding:20px}.footer[data-v-52d0d1bc]{background:#fff;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;padding:24px;color:#363636}.footer .tag[data-v-52d0d1bc]{line-height:30px}.next-artice[data-v-52d0d1bc]{padding:24px 24px 50px;background:#fff}.next-artice .next-artice-link[data-v-52d0d1bc]{border-top:1px solid #eee;width:100%;display:block;padding:20px 0;color:#0090f0}.article-comment[data-v-52d0d1bc]{margin-top:32px;padding:24px;background:#fff}.article-comment textarea[data-v-52d0d1bc]{width:100%;outline:none;border:1px solid #eee;border-radius:4px;height:100px;padding:10px;color:#363636;line-height:20px;-webkit-box-sizing:border-box;box-sizing:border-box;resize:none;background:#fafafa}.article-comment textarea[data-v-52d0d1bc]:focus{border-color:#0090f0}.article-comment .submit-comment-btn[data-v-52d0d1bc]{width:74px;height:32px;line-height:32px;text-align:center;background:#0090f0;border-radius:2px;cursor:pointer;color:#fff;margin-top:8px}.article-comment .submit-comment-btn[data-v-52d0d1bc]:hover{opacity:.8}.article-comment .comment-list[data-v-52d0d1bc]{margin-top:24px}.article-comment .comment-list h2[data-v-52d0d1bc]{font-size:16px;font-weight:700;color:#363636;border-left:4px solid #0090f0;padding-left:8px;line-height:22px;height:20px;margin-bottom:12px;-ms-flex-item-align:start;align-self:flex-start}.article-comment .comment-list .comment-item[data-v-52d0d1bc]{padding:8px 0;margin:10px 14px;font-size:16px;color:#363636;line-height:1.5;word-break:break-word;border-bottom:1px solid #eee}.article-comment .comment-list .comment-item p[data-v-52d0d1bc]{font-size:14px;color:#767676;padding-bottom:12px}.article-comment .comment-list .comment-item p span[data-v-52d0d1bc]{margin-left:12px}.article-comment .comment-list .no-comment[data-v-52d0d1bc]{text-align:center;padding:24px 0}",""])},173:function(t,e,n){"use strict";var a={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"displayArticle"},[n("div",{staticClass:"content markdown-body",domProps:{innerHTML:t._s(t.articleContent.content)}}),t._v(" "),n("div",{staticClass:"footer"},[n("router-link",{staticStyle:{"margin-bottom":"12px"},attrs:{title:t.articleContent.class_name,to:"/main/archive/class/"+t.articleContent.ca_id}},[t._v("分类："+t._s(t.articleContent.class_name))]),t._v(" "),t._l(t.tags,function(e,a){return n("router-link",{key:a,staticClass:"tag",attrs:{title:e.label,to:"/main/archive/tag/"+e.value}},[t._v("\n            #"+t._s(e.label)+"\n        ")])}),t._v(" "),n("span",{staticStyle:{"margin-top":"12px"}},[t._v("最后更新时间: "+t._s(t.articleContent.updated_at&&t.articleContent.updated_at.substr(0,10)))])],2),t._v(" "),t.articleContent.next?n("div",{staticClass:"next-artice"},[n("router-link",{staticClass:"next-artice-link",attrs:{title:t.articleContent.next.title,to:"/main/displayArticle/"+t.articleContent.next.id}},[t._v("下一篇："+t._s(t.articleContent.next.title))])],1):t._e(),t._v(" "),n("div",{staticClass:"article-comment"},[n("div",{staticStyle:{"padding-bottom":"24px","border-bottom":"1px solid #eee"}},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.articleComment,expression:"articleComment"}],attrs:{maxlength:"1200",placeholder:"留下你的评论..."},domProps:{value:t.articleComment},on:{input:function(e){e.target.composing||(t.articleComment=e.target.value)}}}),t._v(" "),n("div",{staticClass:"submit-comment-btn",on:{click:t.submitComment}},[t._v("提交")])]),t._v(" "),n("div",{staticClass:"comment-list"},[n("h2",[t._v("全部评论"),n("span",{staticStyle:{"font-size":"14px",color:"#767676","margin-left":"4px"}},[t._v(t._s(t.commentList.length))])]),t._v(" "),t._l(t.commentList,function(e,a){return n("div",{key:e.id,staticClass:"comment-item"},[n("p",[t._v("游客评论于: "+t._s(e.created_at)+" "),n("span",[t._v(t._s(t.commentList.length-a)+"楼")])]),t._v(" "),n("div",[t._v(t._s(e.comment))])])}),t._v(" "),t.commentList.length?t._e():n("div",{staticClass:"no-comment"},[t._v("\n                暂时没有评论...\n            ")])],2)])])},staticRenderFns:[]};e.a=a}});