webpackJsonp([9],{228:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a(247),n=a.n(o);for(var i in o)"default"!==i&&function(t){a.d(e,t,function(){return o[t]})}(i);var r=a(263);var s=function(t){a(261)},l=a(95)(n.a,r.a,!1,s,"data-v-5e551b38",null);e.default=l.exports},247:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,n=a(54),i=(o=n)&&o.__esModule?o:{default:o},r=a(55);e.default={name:"home",data:function(){return{select:"",curr_value:"",topSearchContent:"",pageNum:1,pageSize:1e4,loadding:!1,dynamicSpace:260}},asyncData:function(t,e,a){var o=t.store;t.route;return a&&o.dispatch("setCookie",a),o.dispatch("getHomeData",{pageNum:1,pageSize:1e4,search:"",cookies:a})},computed:(0,i.default)({},(0,r.mapGetters)(["articleList","total","articleClassList"])),methods:{imageFilter:function(t){return t+="?imageView2/1/w/200/h/140/q/65/webp"},handleCurrentChange:function(){this.getArticleList()},readFullArticle:function(t){this.$router.push({path:"/displayArticle/"+t})},searchArticleList:function(){this.getArticleList()},getArticleList:function(){var t=this;this.loadding=!0,this.$http.post("/article/getHomeArticleList",{pageNum:this.pageNum,pageSize:this.pageSize,search:this.topSearchContent}).then(function(e){t.loadding=!1,200===e.data.code?t.articleList=e.data.data.list:t.$message.error(e.data.message)})},getHomeData:function(){var t=this;this.$store.dispatch("getHomeData",{pageNum:this.pageNum,pageSize:this.pageSize,search:this.topSearchContent}).then(function(e){t.loadding=!1,200===e[0].data.code&&200===e[1].data.code||t.$message.error(e.data.message)})},getPosition:function(t){var e={gps:!1};navigator.geolocation?navigator.geolocation.getCurrentPosition(function(a){e.gps=!0,e.lng=a.coords.latitude,e.lat=a.coords.latitude,t(e)},function(a){switch(e.gps=!1,a.code){case a.PERMISSION_DENIED:e.error="用户拒绝对获取地理位置的请求";break;case a.POSITION_UNAVAILABLE:e.error="位置信息是不可用的";break;case a.TIMEOUT:e.error="请求用户地理位置超时";break;case a.UNKNOWN_ERROR:e.error="未知错误"}t(e)}):(e.error="不支持定位",t(e))}},beforeMount:function(){this.articleList.length||(this.loadding=!0,this.getHomeData())}}},261:function(t,e,a){var o=a(262);"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);a(53)("53e7898e",o,!0,{})},262:function(t,e,a){(t.exports=a(52)(!1)).push([t.i,".box-card[data-v-5e551b38]{background:none;border:none}.topSearch[data-v-5e551b38]{padding:10px 0 15px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;-ms-flex-wrap:nowrap;flex-wrap:nowrap}.homeContent[data-v-5e551b38]{position:relative;margin-top:10px}.homeContent .contentPopover[data-v-5e551b38]{width:calc(100% - 150px);position:absolute;left:150px;top:0}.homeContent .contentPopover .elCardClass[data-v-5e551b38]{-webkit-box-shadow:0 2px 12px 0 rgba(158,175,167,.8);box-shadow:0 2px 12px 0 rgba(158,175,167,.8);background:hsla(0,0%,100%,.7);margin-top:48.4px;padding:15px}.homeContent .contentPopover .elCardClass[data-v-5e551b38]:first-child{margin-top:0}.homeContent .contentPopover .elCardClass .articleTitleText[data-v-5e551b38]{font-size:20px;font-weight:700;color:#000;margin-bottom:15px}.homeContent .contentPopover .elCardClass .bottomContent[data-v-5e551b38]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:start;-ms-flex-pack:start;justify-content:start}.homeContent .contentPopover .elCardClass .bottomContent .everArticleImg[data-v-5e551b38]{width:200px;height:140px}.homeContent .contentPopover .elCardClass .bottomContent .bottomContentRight[data-v-5e551b38]{display:-webkit-box;display:-ms-flexbox;display:flex;width:calc(100% - 230px);margin-left:20px;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.homeContent .contentPopover .elCardClass .bottomContent .bottomContentRight .articleIntroduction[data-v-5e551b38]{word-wrap:break-word;height:90px;text-overflow:ellipsis;overflow:hidden;font-size:18px;color:#000}.homeContent .contentPopover .elCardClass .bottomContent .bottomContentRight .readAllArticleButton[data-v-5e551b38]{color:#02abef;width:100px;text-indent:-5px;margin-left:calc(100% - 100px)}.elPagination[data-v-5e551b38]{float:right;margin:0 20% 20px 0}@media screen and (max-width:700px){.topSearch[data-v-5e551b38]{width:100%}.homeContent .contentPopover[data-v-5e551b38]{width:100%;left:0}.homeContent .contentPopover .elCardClass[data-v-5e551b38]{margin-top:20px}.homeContent .contentPopover .elCardClass .bottomContent .everArticleImg[data-v-5e551b38]{width:30%;height:100px}.homeContent .contentPopover .elCardClass .bottomContent .bottomContentRight[data-v-5e551b38]{-webkit-box-flex:1;-ms-flex:1;flex:1;margin-left:10px}.homeContent .contentPopover .elCardClass .bottomContent .bottomContentRight .articleIntroduction[data-v-5e551b38]{height:40px;font-size:16px;width:100%}.homeContent .contentPopover .elCardClass .bottomContent .bottomContentRight .readAllArticleButton[data-v-5e551b38]{width:100px;text-indent:-5px}.timeLine[data-v-5e551b38]{width:0;opacity:0}.elPagination[data-v-5e551b38]{margin:30px 0 20px}}",""])},263:function(t,e,a){"use strict";var o={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-card",{directives:[{name:"loading",rawName:"v-loading",value:t.loadding,expression:"loadding"}],staticClass:"box-card",staticStyle:{width:"100%","margin-top":"10px"}},[a("div",{staticClass:"topSearch"},[a("div",[a("span",{staticStyle:{color:"#fff"}},[t._v("文章分类:")]),t._v(" "),a("el-select",{staticStyle:{width:"40%"},attrs:{size:"mini",placeholder:"请选择"},model:{value:t.curr_value,callback:function(e){t.curr_value=e},expression:"curr_value"}},t._l(t.articleClassList,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1),t._v(" "),a("div",{staticStyle:{display:"flex","justify-content":"flex-end"}},[a("el-input",{staticStyle:{width:"80%"},attrs:{"prefix-icon":"el-icon-search",size:"mini",placeholder:"请输入关键字"},on:{change:t.searchArticleList},model:{value:t.topSearchContent,callback:function(e){t.topSearchContent=e},expression:"topSearchContent"}})],1)]),t._v(" "),a("div",{staticClass:"homeContent"},[a("el-steps",{staticClass:"timeLine",attrs:{direction:"vertical",active:0,space:t.dynamicSpace}},t._l(t.articleList,function(t){return a("el-step",{key:t.id,attrs:{title:t.created_at.substr(0,10)}})})),t._v(" "),a("div",{staticClass:"contentPopover"},t._l(t.articleList,function(e){return a("div",{key:e.id,staticClass:"elCardClass"},[a("header",{staticClass:"articleTitleText"},[t._v(t._s(e.title))]),t._v(" "),a("div",{staticClass:"bottomContent"},[a("img",{staticClass:"everArticleImg",attrs:{src:t.imageFilter(e.img)}}),t._v(" "),a("div",{staticClass:"bottomContentRight"},[a("div",{staticClass:"articleIntroduction"},[t._v(t._s(e.description))]),t._v(" "),a("el-button",{staticClass:"readAllArticleButton",attrs:{type:"text"},on:{click:function(a){t.readFullArticle(e.id)}}},[t._v("阅读全文>>")])],1)])])})),t._v(" "),a("el-pagination",{staticClass:"elPagination",attrs:{"current-page":t.pageNum,"page-size":t.pageSize,layout:"total, prev, pager, next, jumper",total:t.total},on:{"current-change":t.handleCurrentChange,"update:currentPage":function(e){t.pageNum=e}}})],1)])},staticRenderFns:[]};e.a=o}});