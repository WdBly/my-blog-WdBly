{"version":3,"sources":["webpack:///./src/components/UserManagement.vue","webpack:///./src/assets/js/unifiedVerificationRule.js","webpack:///./src/components/UserManagement.vue?654e","webpack:///src/components/UserManagement.vue"],"names":["__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_143fe72c_hasScoped_true_transformToRequire_video_src_poster_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_UserManagement_vue__","__webpack_require__","__vue_styles__","ssrContext","Component","normalizeComponent","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_UserManagement_vue___default","a","__webpack_exports__","validateUsername","rule","value","callback","Error","test","validateCaptcha","validateCaptchaSix","validateName","validateMobile","validatePassword","validateEmail","esExports","render","_vm","this","_h","$createElement","_c","_self","directives","name","rawName","expression","staticClass","staticStyle","height","margin-bottom","attrs","inline","size","width","float","placeholder","prefix-icon","on","change","onSubmit","model","$$v","topSearchContent","_v","type","icon","click","addUser","data","tableData","tableH","border","label","scopedSlots","_u","key","fn","scope","margin-left","_s","row","id","show-overflow-tooltip","username","mobile","email","title","nativeOn","$event","preventDefault","editUser","$index","handleDelete","margin-right","margin-top","current-page","currentPage","page-size","pageSize","layout","total","size-change","handleSizeChange","current-change","handleCurrentChange","update:currentPage","visible","dialogFormVisible","close-on-click-modal","top","close-on-press-escape","center","update:visible","ref","ruleForm2","status-icon","rules","rules2","label-width","prop","auto-complete","$set","slot","isUpdate","submitForm","staticRenderFns","verRule","userLoading","addEditLoading","index","password","required","validator","trigger","computed","Object","NODE_ENV","VUE_ENV","document","documentElement","clientHeight","methods","loadData","val","rows","_this","$confirm","confirmButtonText","cancelButtonText","then","$http","post","res","code","$message","success","message","error","catch","err","console","log","_this2","$nextTick","$refs","clearValidate","_this3","formName","_this4","url","validate","valid","_assign2","default","info","resetFields","criteria","pageNum","_this5","search","response","list","mounted"],"mappings":"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","file":"static/js/4.d910e39a0e24f2ebb58e.js","sourcesContent":["function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-143fe72c\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./UserManagement.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./UserManagement.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./UserManagement.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-143fe72c\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./UserManagement.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-143fe72c\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/UserManagement.vue\n// module id = Jr8N\n// module chunks = 4","/**\r\n * Created by ZhouWei on 2017/12/28.\r\n */\r\n\r\n//校验输入字段\r\nvar validateUsername = (rule, value, callback) => {\r\n    if (value === '') {\r\n        callback(new Error('用户名不能为空'));\r\n    }else if (!/^([a-zA-Z\\u4e00-\\u9fa5\\.]){4,16}$/.test(value)) {\r\n        callback(new Error('只能输入4-16个中文、英文、.等字符'));\r\n    }else{\r\n        callback();\r\n    }\r\n};\r\n\r\nvar validateCaptcha = (rule, value, callback) => {  //4位验证码\r\n    if (value === '') {\r\n        callback(new Error('验证码不能为空!'));\r\n    }else if(!/^\\d{4}$/.test(value)){\r\n        callback(new Error('请输入正确的验证码!'));\r\n    } else {\r\n        callback();\r\n    }\r\n};\r\n\r\nvar validateCaptchaSix = (rule, value, callback) => { //6位验证码\r\n    if (value === '') {\r\n        callback(new Error('验证码不能为空!'));\r\n    }else if(!/^\\d{6}$/.test(value)){\r\n        callback(new Error('请输入正确的验证码!'));\r\n    } else {\r\n        callback();\r\n    }\r\n};\r\n\r\nvar validateName = (rule, value, callback) => {\r\n    if (value === '') {\r\n        callback(new Error('姓名不能为空'));\r\n    }else if (!/^[a-zA-Z\\u4e00-\\u9fa5]{2,20}$/.test(value)) {\r\n        callback(new Error('只能2-20个汉字或者英文'));\r\n    }else{\r\n        callback();\r\n    }\r\n};\r\nvar validateMobile = (rule, value, callback) => {\r\n    if (value === '') {\r\n        callback(new Error('手机不能为空'));\r\n    }else if (!(/^1[34578]\\d{9}$/.test(value))) {\r\n        callback(new Error('请正确填写您的手机号码'));\r\n    }else {\r\n        callback();\r\n    }\r\n};\r\n\r\nvar validatePassword = (rule, value, callback) => {\r\n    if (value === '') {\r\n        callback(new Error('密码不能为空'));\r\n    }else if (!(/^.{6,12}$/.test(value))) {\r\n        callback(new Error('6-12位密码'));\r\n    }else {\r\n        callback();\r\n    }\r\n};\r\n\r\nvar validateEmail = (rule, value, callback) => {\r\n    if (value === '') {\r\n        callback(new Error('邮箱不能为空'));\r\n    }else if (!(/^([\\w\\.\\-]+)@([\\w\\.\\-]+)\\.([\\w]{2,4})$/.test(value))) {\r\n        callback(new Error('邮箱格式不正确'));\r\n    }else {\r\n        callback();\r\n    }\r\n};\r\n\r\nexport {\r\n    validateUsername,\r\n    validateCaptcha,\r\n    validateCaptchaSix,\r\n    validateName,\r\n    validateMobile,\r\n    validatePassword,\r\n    validateEmail\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/assets/js/unifiedVerificationRule.js","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.userLoading),expression:\"userLoading\"}],staticClass:\"userManagement\"},[_c('el-form',{staticClass:\"demo-form-inline\",staticStyle:{\"height\":\"30px\",\"margin-bottom\":\"10px\"},attrs:{\"inline\":true,\"size\":\"small\"}},[_c('el-input',{staticStyle:{\"width\":\"300px\",\"float\":\"right\"},attrs:{\"size\":\"small\",\"placeholder\":\"搜索用户\",\"prefix-icon\":\"el-icon-search\"},on:{\"change\":_vm.onSubmit},model:{value:(_vm.topSearchContent),callback:function ($$v) {_vm.topSearchContent=$$v},expression:\"topSearchContent\"}}),_vm._v(\" \"),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-plus\"},on:{\"click\":_vm.addUser}},[_vm._v(\"添加\")])],1)],1),_vm._v(\" \"),_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.tableData,\"height\":_vm.tableH,\"size\":\"mini\",\"border\":\"\"}},[_c('el-table-column',{attrs:{\"label\":\"ID\",\"width\":\"80\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',{staticStyle:{\"margin-left\":\"10px\"}},[_vm._v(_vm._s(scope.row.id))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"账号\",\"show-overflow-tooltip\":\"\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',{staticStyle:{\"margin-left\":\"10px\"}},[_vm._v(_vm._s(scope.row.username))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"电话\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('i',{staticClass:\"el-icon-phone\"}),_vm._v(\" \"),_c('span',{staticStyle:{\"margin-left\":\"10px\"}},[_vm._v(_vm._s(scope.row.mobile))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"邮箱\",\"show-overflow-tooltip\":\"\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('i',{staticClass:\"el-icon-message\"}),_vm._v(\" \"),_c('span',{staticStyle:{\"margin-left\":\"10px\"}},[_vm._v(_vm._s(scope.row.email))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"操作\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"success\",\"icon\":\"el-icon-edit-outline\",\"title\":\"修改用户\"},nativeOn:{\"click\":function($event){$event.preventDefault();_vm.editUser(scope.$index, scope.row)}}}),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"danger\",\"size\":\"small\",\"icon\":\"el-icon-delete\",\"title\":\"删除用户\"},nativeOn:{\"click\":function($event){$event.preventDefault();_vm.handleDelete(scope.$index, scope.row, _vm.tableData)}}})]}}])})],1),_vm._v(\" \"),_c('el-pagination',{staticStyle:{\"float\":\"right\",\"margin-right\":\"5%\",\"margin-top\":\"10px\"},attrs:{\"current-page\":_vm.currentPage,\"page-size\":_vm.pageSize,\"layout\":\"total, prev, pager, next, jumper\",\"total\":_vm.total},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange,\"update:currentPage\":function($event){_vm.currentPage=$event}}}),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":_vm.title,\"visible\":_vm.dialogFormVisible,\"close-on-click-modal\":false,\"top\":\"8vh\",\"close-on-press-escape\":false,\"center\":\"\"},on:{\"update:visible\":function($event){_vm.dialogFormVisible=$event}}},[_c('el-form',{ref:\"ruleForm2\",staticClass:\"demo-ruleForm\",attrs:{\"model\":_vm.ruleForm2,\"status-icon\":\"\",\"rules\":_vm.rules2,\"label-width\":\"100px\"}},[_c('el-form-item',{attrs:{\"label\":\"账号\",\"prop\":\"username\"}},[_c('el-input',{attrs:{\"type\":\"text\",\"auto-complete\":\"off\"},model:{value:(_vm.ruleForm2.username),callback:function ($$v) {_vm.$set(_vm.ruleForm2, \"username\", $$v)},expression:\"ruleForm2.username\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"密码\",\"prop\":\"password\"}},[_c('el-input',{attrs:{\"type\":\"password\",\"auto-complete\":\"off\"},model:{value:(_vm.ruleForm2.password),callback:function ($$v) {_vm.$set(_vm.ruleForm2, \"password\", $$v)},expression:\"ruleForm2.password\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"电话\",\"prop\":\"mobile\"}},[_c('el-input',{attrs:{\"type\":\"mobile\",\"auto-complete\":\"off\"},model:{value:(_vm.ruleForm2.mobile),callback:function ($$v) {_vm.$set(_vm.ruleForm2, \"mobile\", $$v)},expression:\"ruleForm2.mobile\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"邮箱\",\"prop\":\"email\"}},[_c('el-input',{attrs:{\"type\":\"mobile\",\"auto-complete\":\"off\"},model:{value:(_vm.ruleForm2.email),callback:function ($$v) {_vm.$set(_vm.ruleForm2, \"email\", $$v)},expression:\"ruleForm2.email\"}})],1)],1),_vm._v(\" \"),_c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.addEditLoading),expression:\"addEditLoading\"}],staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{attrs:{\"type\":\"warning\"},on:{\"click\":function($event){_vm.dialogFormVisible=!_vm.dialogFormVisible}}},[_vm._v(\"取消编辑\")]),_vm._v(\" \"),(_vm.isUpdate == 1)?_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.submitForm('ruleForm2',1)}}},[_vm._v(\"保存数据\")]):_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.submitForm('ruleForm2',2, _vm.ruleForm2.id)}}},[_vm._v(\"修改数据\")])],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-143fe72c\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/UserManagement.vue\n// module id = Xpo9\n// module chunks = 4","<template>\r\n    <div class=\"userManagement\" v-loading=\"userLoading\">\r\n        <el-form :inline=\"true\" size=\"small\" class=\"demo-form-inline\" style=\"height: 30px;margin-bottom: 10px\">\r\n            <el-input size=\"small\" placeholder=\"搜索用户\" prefix-icon=\"el-icon-search\" v-model=\"topSearchContent\"\r\n                      @change=\"onSubmit\"\r\n                      style=\"width: 300px; float: right\"></el-input>\r\n            <el-form-item>\r\n                <el-button  type=\"primary\" @click=\"addUser\" icon=\"el-icon-plus\">添加</el-button>\r\n            </el-form-item>\r\n        </el-form>\r\n\r\n        <el-table :data=\"tableData\" :height=\"tableH\" size=\"mini\"\r\n                  border\r\n                  style=\"width:100%;\">\r\n            <el-table-column label=\"ID\" width=\"80\">\r\n                <template slot-scope=\"scope\">\r\n                    <span style=\"margin-left: 10px\">{{ scope.row.id }}</span>\r\n                </template>\r\n            </el-table-column>\r\n            <el-table-column label=\"账号\" show-overflow-tooltip>\r\n                <template slot-scope=\"scope\">\r\n                    <span style=\"margin-left: 10px\">{{ scope.row.username }}</span>\r\n                </template>\r\n            </el-table-column>\r\n            <el-table-column label=\"电话\">\r\n                <template slot-scope=\"scope\">\r\n                    <i class=\"el-icon-phone\"></i>\r\n                    <span style=\"margin-left: 10px\">{{ scope.row.mobile }}</span>\r\n                </template>\r\n            </el-table-column>\r\n            <el-table-column label=\"邮箱\" show-overflow-tooltip>\r\n                <template slot-scope=\"scope\">\r\n                    <i class=\"el-icon-message\"></i>\r\n                    <span style=\"margin-left: 10px\">{{ scope.row.email}}</span>\r\n                </template>\r\n            </el-table-column>\r\n            <el-table-column label=\"操作\">\r\n                <template slot-scope=\"scope\">\r\n                    <el-button size=\"small\" type=\"success\" icon=\"el-icon-edit-outline\"\r\n                               @click.native.prevent=\"editUser(scope.$index, scope.row)\"\r\n                               title=\"修改用户\"></el-button>\r\n                    <el-button type=\"danger\" size=\"small\" icon=\"el-icon-delete\"\r\n                               @click.native.prevent=\"handleDelete(scope.$index, scope.row, tableData)\"\r\n                               title=\"删除用户\"></el-button>\r\n                </template>\r\n            </el-table-column>\r\n        </el-table>\r\n        <!--分页-->\r\n        <el-pagination style=\"float: right;margin-right: 5%;margin-top: 10px;\"\r\n                       @size-change=\"handleSizeChange\"\r\n                       @current-change=\"handleCurrentChange\"\r\n                       :current-page.sync=\"currentPage\"\r\n                       :page-size=\"pageSize\"\r\n                       layout=\"total, prev, pager, next, jumper\"\r\n                       :total=\"total\">\r\n        </el-pagination>\r\n        <!--添加和编辑dialog-->\r\n        <el-dialog :title=\"title\" :visible.sync=\"dialogFormVisible\"\r\n                   :close-on-click-modal=\"false\" top=\"8vh\"\r\n                   :close-on-press-escape=\"false\" center>\r\n            <el-form :model=\"ruleForm2\" status-icon :rules=\"rules2\" ref=\"ruleForm2\" label-width=\"100px\"\r\n                     class=\"demo-ruleForm\">\r\n                <el-form-item label=\"账号\" prop=\"username\">\r\n                    <el-input type=\"text\" v-model=\"ruleForm2.username\" auto-complete=\"off\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"密码\" prop=\"password\">\r\n                    <el-input type=\"password\" v-model=\"ruleForm2.password\" auto-complete=\"off\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"电话\" prop=\"mobile\">\r\n                    <el-input type=\"mobile\" v-model=\"ruleForm2.mobile\" auto-complete=\"off\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"邮箱\" prop=\"email\">\r\n                    <el-input type=\"mobile\" v-model=\"ruleForm2.email\" auto-complete=\"off\"></el-input>\r\n                </el-form-item>\r\n            </el-form>\r\n            <div slot=\"footer\" class=\"dialog-footer\" v-loading=\"addEditLoading\">\r\n                <el-button type=\"warning\" @click=\"dialogFormVisible=!dialogFormVisible\">取消编辑</el-button>\r\n                <el-button type=\"primary\" @click=\"submitForm('ruleForm2',1)\" v-if=\"isUpdate == 1\">保存数据</el-button>\r\n                <el-button type=\"primary\" @click=\"submitForm('ruleForm2',2, ruleForm2.id)\" v-else>修改数据</el-button>\r\n            </div>\r\n        </el-dialog>\r\n    </div>\r\n</template>\r\n<script type=\"text/ecmascript-6\">\r\n    let verRule = require('./../assets/js/unifiedVerificationRule');\r\n    export default {\r\n        data() {\r\n            //校验输入字段\r\n            return {\r\n                topSearchContent: \"\",\r\n                userLoading: false,\r\n                addEditLoading: false,\r\n                tableData: [],\r\n                dialogFormVisible: false,\r\n                isUpdate: 1,\r\n                index: 1,\r\n                title: '',\r\n                currentPage: 1, //当前页码\r\n                pageSize: 10, //默认每页数据量\r\n                total: 0, //默认数据总数\r\n                ruleForm2: {\r\n                    username: '',\r\n                    password: '',\r\n                    mobile: '',\r\n                    email:''\r\n                },\r\n                rules2: {\r\n                    username: [\r\n                        {required: true, validator: verRule.validateUsername, trigger: 'blur'}\r\n                    ],\r\n                    password: [\r\n                        {required: true, validator: verRule.validatePassword, trigger: 'blur'}\r\n                    ],\r\n                    mobile: [\r\n                        {required: true, validator: verRule.validateMobile, trigger: 'blur'}\r\n                    ],\r\n                    email: [\r\n                        {required: true,validator: verRule.validateEmail,trigger: 'blur'}\r\n                    ]\r\n                }\r\n            }\r\n        },\r\n        computed: {\r\n            tableH() {\r\n                if(process.env.VUE_ENV !== \"server\"){\r\n                    return document.documentElement.clientHeight - 300;\r\n                }else {\r\n                    return 500;\r\n                }\r\n            }\r\n        },\r\n        methods: {\r\n            onSubmit() {\r\n                if(this.currentPage ==1){\r\n                    this.loadData(this.topSearchContent, this.currentPage, this.pageSize);\r\n                }else{\r\n                    this.currentPage = 1;\r\n                }\r\n            },\r\n            //分页\r\n            handleSizeChange(val) {\r\n                this.loadData(this.topSearchContent, val, this.pageSize);\r\n            },\r\n            handleCurrentChange(val) {\r\n                this.loadData(this.topSearchContent, val, this.pageSize);\r\n            },\r\n            //删除\r\n            handleDelete(index, row, rows) {\r\n                this.$confirm('确定要删除这条记录吗？', '提示', {\r\n                    confirmButtonText: '确定',\r\n                    cancelButtonText: '取消',\r\n                    type: 'warning'\r\n                }).then(() => {\r\n                    this.$http.post('/user/delUser',{\r\n                        id:row.id\r\n                    }).then((res) => {\r\n                        if (res.data.code === 200) {\r\n                            this.loadData(this.topSearchContent, this.currentPage, this.pageSize);\r\n                            this.$message.success(res.data.message);\r\n                        } else {\r\n                            this.$message.error(res.data.message);\r\n                        }\r\n                    }).catch((err) => {\r\n                        console.log(err);\r\n                    });\r\n                }).catch((err) => {\r\n                    console.log(err);\r\n                });\r\n            },\r\n            addUser() {\r\n                this.title = \"添加用户\";\r\n                this.dialogFormVisible = true;\r\n                this.isUpdate = 1;\r\n                this.ruleForm2 = {\r\n                    username: '',\r\n                    mobile: '',\r\n                    password: '',\r\n                    email:''\r\n                };\r\n                this.$nextTick(()=>{\r\n                    this.$refs['ruleForm2'].clearValidate();\r\n                });\r\n            },\r\n            editUser(index, row) {\r\n                this.title = \"修改用户\";\r\n                this.isUpdate = 2;\r\n                this.index=row.id;\r\n                this.ruleForm2 = {\r\n                    username: row.username,\r\n                    mobile: row.mobile,\r\n                    password: '',\r\n                    email:row.email\r\n                };\r\n                this.$nextTick(()=>{\r\n                    this.$refs['ruleForm2'].clearValidate();\r\n                });\r\n                this.dialogFormVisible = true;\r\n            },\r\n            //修改或者添加用户提交表单\r\n            submitForm(formName, type, id) {\r\n                var url = '',methods;\r\n                this.addEditLoading = true;\r\n                this.$refs[formName].validate((valid) => {\r\n                    if (valid) {\r\n                        let data = Object.assign(this.ruleForm2);\r\n                        if (type === 1) {\r\n                            url = '/user/addUser';\r\n                            methods=\"post\";\r\n                        } else {\r\n                            data.id = this.index;\r\n                            url = '/user/editUser';\r\n                            methods=\"post\";\r\n                        }\r\n                        this.$http.post(url,data).then((res) => {\r\n                            this.addEditLoading = false;\r\n                            if (res.data.code === 200) {\r\n                                this.$message.success(res.data.message);\r\n                                this.dialogFormVisible = false;\r\n                                this.loadData(this.topSearchContent, this.currentPage, this.pageSize);\r\n                            } else {\r\n                                this.$message.info(res.data.message);\r\n                            }\r\n                        }).catch((err) => {\r\n                            this.$refs[formName].resetFields();\r\n                            this.addEditLoading = false;\r\n                        });\r\n                    } else {\r\n                        this.addEditLoading = false;\r\n                        return false;\r\n                    }\r\n                });\r\n            },\r\n            //从服务器读取数据\r\n            loadData(criteria, pageNum, pageSize) {\r\n                this.userLoading = true;\r\n                this.$http.post(\"/user/list\",{\r\n                    pageSize:pageSize,\r\n                    pageNum:pageNum,\r\n                    search:criteria,\r\n                }).then((response) => {\r\n                    if (response.data.code === 200) {\r\n                        this.tableData = response.data.data.list;\r\n                        this.total = response.data.data.total;\r\n                    } else {\r\n                        this.total = 0;\r\n                        this.tableData = [];\r\n                        this.$message.info(response.data.message);\r\n                    }\r\n                    this.userLoading = false;\r\n                }).catch((err) => {\r\n                    console.log(err);\r\n                    this.userLoading = false;\r\n                })\r\n            }\r\n        },\r\n        mounted() {\r\n            this.loadData(this.topSearchContent, this.currentPage, this.pageSize);\r\n        }\r\n    }\r\n</script>\r\n<style scoped lang=\"scss\">\r\n    .userManagement {\r\n        margin-top: 10px;\r\n    }\r\n</style>\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/UserManagement.vue"],"sourceRoot":""}