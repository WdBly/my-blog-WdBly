{"version":3,"sources":["webpack:///src/components/UserManagement.vue","webpack:///./src/components/UserManagement.vue?b022","webpack:///./src/components/UserManagement.vue","webpack:///./src/assets/js/unifiedVerificationRule.js"],"names":["verRule","__webpack_require__","UserManagement","data","topSearchContent","userLoading","addEditLoading","tableData","dialogFormVisible","isUpdate","index","title","currentPage","pageSize","total","ruleForm2","username","password","mobile","email","rules2","required","validator","validateUsername","trigger","validatePassword","validateMobile","validateEmail","computed","tableH","document","documentElement","clientHeight","methods","onSubmit","this","loadData","handleSizeChange","val","handleCurrentChange","handleDelete","row","rows","_this","$confirm","confirmButtonText","cancelButtonText","type","then","$http","post","id","res","code","$message","success","message","error","catch","err","console","log","addUser","_this2","$nextTick","$refs","clearValidate","editUser","_this3","submitForm","formName","_this4","url","validate","valid","assign_default","info","resetFields","criteria","pageNum","_this5","search","response","list","mounted","components_UserManagement","render","_vm","_h","$createElement","_c","_self","directives","name","rawName","value","expression","staticClass","staticStyle","height","margin-bottom","attrs","inline","size","width","float","placeholder","prefix-icon","on","change","model","callback","$$v","_v","icon","click","border","label","scopedSlots","_u","key","fn","scope","margin-left","_s","show-overflow-tooltip","nativeOn","$event","preventDefault","$index","margin-right","margin-top","current-page","page-size","layout","size-change","current-change","update:currentPage","visible","close-on-click-modal","top","close-on-press-escape","center","update:visible","ref","status-icon","rules","label-width","prop","auto-complete","$set","slot","staticRenderFns","Component","normalizeComponent","ssrContext","__webpack_exports__","d","rule","Error","test","validateCaptcha","validateCaptchaSix","validateName"],"mappings":"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","file":"static/js/4.c506343aef8ebc1f33c0.js","sourcesContent":["<template>\r\n    <div class=\"userManagement\" v-loading=\"userLoading\">\r\n        <el-form :inline=\"true\" size=\"small\" class=\"demo-form-inline\" style=\"height: 30px;margin-bottom: 10px\">\r\n            <el-input size=\"small\" placeholder=\"搜索用户\" prefix-icon=\"el-icon-search\" v-model=\"topSearchContent\"\r\n                      @change=\"onSubmit\"\r\n                      style=\"width: 300px; float: right\"></el-input>\r\n            <el-form-item>\r\n                <el-button  type=\"primary\" @click=\"addUser\" icon=\"el-icon-plus\">添加</el-button>\r\n            </el-form-item>\r\n        </el-form>\r\n\r\n        <el-table :data=\"tableData\" :height=\"tableH\" size=\"mini\"\r\n                  border\r\n                  style=\"width:100%;\">\r\n            <el-table-column label=\"ID\" width=\"80\">\r\n                <template slot-scope=\"scope\">\r\n                    <span style=\"margin-left: 10px\">{{ scope.row.id }}</span>\r\n                </template>\r\n            </el-table-column>\r\n            <el-table-column label=\"账号\" show-overflow-tooltip>\r\n                <template slot-scope=\"scope\">\r\n                    <span style=\"margin-left: 10px\">{{ scope.row.username }}</span>\r\n                </template>\r\n            </el-table-column>\r\n            <el-table-column label=\"电话\">\r\n                <template slot-scope=\"scope\">\r\n                    <i class=\"el-icon-phone\"></i>\r\n                    <span style=\"margin-left: 10px\">{{ scope.row.mobile }}</span>\r\n                </template>\r\n            </el-table-column>\r\n            <el-table-column label=\"邮箱\" show-overflow-tooltip>\r\n                <template slot-scope=\"scope\">\r\n                    <i class=\"el-icon-message\"></i>\r\n                    <span style=\"margin-left: 10px\">{{ scope.row.email}}</span>\r\n                </template>\r\n            </el-table-column>\r\n            <el-table-column label=\"操作\">\r\n                <template slot-scope=\"scope\">\r\n                    <el-button size=\"small\" type=\"success\" icon=\"el-icon-edit-outline\"\r\n                               @click.native.prevent=\"editUser(scope.$index, scope.row)\"\r\n                               title=\"修改用户\"></el-button>\r\n                    <el-button type=\"danger\" size=\"small\" icon=\"el-icon-delete\"\r\n                               @click.native.prevent=\"handleDelete(scope.$index, scope.row, tableData)\"\r\n                               title=\"删除用户\"></el-button>\r\n                </template>\r\n            </el-table-column>\r\n        </el-table>\r\n        <!--分页-->\r\n        <el-pagination style=\"float: right;margin-right: 5%;margin-top: 10px;\"\r\n                       @size-change=\"handleSizeChange\"\r\n                       @current-change=\"handleCurrentChange\"\r\n                       :current-page.sync=\"currentPage\"\r\n                       :page-size=\"pageSize\"\r\n                       layout=\"total, prev, pager, next, jumper\"\r\n                       :total=\"total\">\r\n        </el-pagination>\r\n        <!--添加和编辑dialog-->\r\n        <el-dialog :title=\"title\" :visible.sync=\"dialogFormVisible\"\r\n                   :close-on-click-modal=\"false\" top=\"8vh\"\r\n                   :close-on-press-escape=\"false\" center>\r\n            <el-form :model=\"ruleForm2\" status-icon :rules=\"rules2\" ref=\"ruleForm2\" label-width=\"100px\"\r\n                     class=\"demo-ruleForm\">\r\n                <el-form-item label=\"账号\" prop=\"username\">\r\n                    <el-input type=\"text\" v-model=\"ruleForm2.username\" auto-complete=\"off\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"密码\" prop=\"password\">\r\n                    <el-input type=\"password\" v-model=\"ruleForm2.password\" auto-complete=\"off\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"电话\" prop=\"mobile\">\r\n                    <el-input type=\"mobile\" v-model=\"ruleForm2.mobile\" auto-complete=\"off\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"邮箱\" prop=\"email\">\r\n                    <el-input type=\"mobile\" v-model=\"ruleForm2.email\" auto-complete=\"off\"></el-input>\r\n                </el-form-item>\r\n            </el-form>\r\n            <div slot=\"footer\" class=\"dialog-footer\" v-loading=\"addEditLoading\">\r\n                <el-button type=\"warning\" @click=\"dialogFormVisible=!dialogFormVisible\">取消编辑</el-button>\r\n                <el-button type=\"primary\" @click=\"submitForm('ruleForm2',1)\" v-if=\"isUpdate == 1\">保存数据</el-button>\r\n                <el-button type=\"primary\" @click=\"submitForm('ruleForm2',2, ruleForm2.id)\" v-else>修改数据</el-button>\r\n            </div>\r\n        </el-dialog>\r\n    </div>\r\n</template>\r\n<script type=\"text/ecmascript-6\">\r\n    let verRule = require('./../assets/js/unifiedVerificationRule');\r\n    export default {\r\n        data() {\r\n            //校验输入字段\r\n            return {\r\n                topSearchContent: \"\",\r\n                userLoading: false,\r\n                addEditLoading: false,\r\n                tableData: [],\r\n                dialogFormVisible: false,\r\n                isUpdate: 1,\r\n                index: 1,\r\n                title: '',\r\n                currentPage: 1, //当前页码\r\n                pageSize: 10, //默认每页数据量\r\n                total: 0, //默认数据总数\r\n                ruleForm2: {\r\n                    username: '',\r\n                    password: '',\r\n                    mobile: '',\r\n                    email:''\r\n                },\r\n                rules2: {\r\n                    username: [\r\n                        {required: true, validator: verRule.validateUsername, trigger: 'blur'}\r\n                    ],\r\n                    password: [\r\n                        {required: true, validator: verRule.validatePassword, trigger: 'blur'}\r\n                    ],\r\n                    mobile: [\r\n                        {required: true, validator: verRule.validateMobile, trigger: 'blur'}\r\n                    ],\r\n                    email: [\r\n                        {required: true,validator: verRule.validateEmail,trigger: 'blur'}\r\n                    ]\r\n                }\r\n            }\r\n        },\r\n        computed: {\r\n            tableH() {\r\n                return document.documentElement.clientHeight - 300;\r\n            }\r\n        },\r\n        methods: {\r\n            onSubmit() {\r\n                if(this.currentPage ==1){\r\n                    this.loadData(this.topSearchContent, this.currentPage, this.pageSize);\r\n                }else{\r\n                    this.currentPage = 1;\r\n                }\r\n            },\r\n            //分页\r\n            handleSizeChange(val) {\r\n                this.loadData(this.topSearchContent, val, this.pageSize);\r\n            },\r\n            handleCurrentChange(val) {\r\n                this.loadData(this.topSearchContent, val, this.pageSize);\r\n            },\r\n            //删除\r\n            handleDelete(index, row, rows) {\r\n                this.$confirm('确定要删除这条记录吗？', '提示', {\r\n                    confirmButtonText: '确定',\r\n                    cancelButtonText: '取消',\r\n                    type: 'warning'\r\n                }).then(() => {\r\n                    this.$http.post('/user/delUser',{\r\n                        id:row.id\r\n                    }).then((res) => {\r\n                        if (res.data.code === 200) {\r\n                            this.loadData(this.topSearchContent, this.currentPage, this.pageSize);\r\n                            this.$message.success(res.data.message);\r\n                        } else {\r\n                            this.$message.error(res.data.message);\r\n                        }\r\n                    }).catch((err) => {\r\n                        console.log(err);\r\n                    });\r\n                }).catch((err) => {\r\n                    console.log(err);\r\n                });\r\n            },\r\n            addUser() {\r\n                this.title = \"添加用户\";\r\n                this.dialogFormVisible = true;\r\n                this.isUpdate = 1;\r\n                this.ruleForm2 = {\r\n                    username: '',\r\n                    mobile: '',\r\n                    password: '',\r\n                    email:''\r\n                };\r\n                this.$nextTick(()=>{\r\n                    this.$refs['ruleForm2'].clearValidate();\r\n                });\r\n            },\r\n            editUser(index, row) {\r\n                this.title = \"修改用户\";\r\n                this.isUpdate = 2;\r\n                this.index=row.id;\r\n                this.ruleForm2 = {\r\n                    username: row.username,\r\n                    mobile: row.mobile,\r\n                    password: '',\r\n                    email:row.email\r\n                };\r\n                this.$nextTick(()=>{\r\n                    this.$refs['ruleForm2'].clearValidate();\r\n                });\r\n                this.dialogFormVisible = true;\r\n            },\r\n            //修改或者添加用户提交表单\r\n            submitForm(formName, type, id) {\r\n                var url = '',methods;\r\n                this.addEditLoading = true;\r\n                this.$refs[formName].validate((valid) => {\r\n                    if (valid) {\r\n                        let data = Object.assign(this.ruleForm2);\r\n                        if (type === 1) {\r\n                            url = '/user/addUser';\r\n                            methods=\"post\";\r\n                        } else {\r\n                            data.id = this.index;\r\n                            url = '/user/editUser';\r\n                            methods=\"post\";\r\n                        }\r\n                        this.$http.post(url,data).then((res) => {\r\n                            this.addEditLoading = false;\r\n                            if (res.data.code === 200) {\r\n                                this.$message.success(res.data.message);\r\n                                this.dialogFormVisible = false;\r\n                                this.loadData(this.topSearchContent, this.currentPage, this.pageSize);\r\n                            } else {\r\n                                this.$message.info(res.data.message);\r\n                            }\r\n                        }).catch((err) => {\r\n                            this.$refs[formName].resetFields();\r\n                            this.addEditLoading = false;\r\n                        });\r\n                    } else {\r\n                        this.addEditLoading = false;\r\n                        return false;\r\n                    }\r\n                });\r\n            },\r\n            //从服务器读取数据\r\n            loadData(criteria, pageNum, pageSize) {\r\n                this.userLoading = true;\r\n                this.$http.post(\"/user/list\",{\r\n                    pageSize:pageSize,\r\n                    pageNum:pageNum,\r\n                    search:criteria,\r\n                }).then((response) => {\r\n                    if (response.data.code === 200) {\r\n                        this.tableData = response.data.data.list;\r\n                        this.total = response.data.data.total;\r\n                    } else {\r\n                        this.total = 0;\r\n                        this.tableData = [];\r\n                        this.$message.info(response.data.message);\r\n                    }\r\n                    this.userLoading = false;\r\n                }).catch((err) => {\r\n                    console.log(err);\r\n                    this.userLoading = false;\r\n                })\r\n            }\r\n        },\r\n        mounted() {\r\n            this.loadData(this.topSearchContent, this.currentPage, this.pageSize);\r\n        }\r\n    }\r\n</script>\r\n<style scoped lang=\"scss\">\r\n    .userManagement {\r\n        margin-top: 10px;\r\n    }\r\n</style>\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/UserManagement.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.userLoading),expression:\"userLoading\"}],staticClass:\"userManagement\"},[_c('el-form',{staticClass:\"demo-form-inline\",staticStyle:{\"height\":\"30px\",\"margin-bottom\":\"10px\"},attrs:{\"inline\":true,\"size\":\"small\"}},[_c('el-input',{staticStyle:{\"width\":\"300px\",\"float\":\"right\"},attrs:{\"size\":\"small\",\"placeholder\":\"搜索用户\",\"prefix-icon\":\"el-icon-search\"},on:{\"change\":_vm.onSubmit},model:{value:(_vm.topSearchContent),callback:function ($$v) {_vm.topSearchContent=$$v},expression:\"topSearchContent\"}}),_vm._v(\" \"),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-plus\"},on:{\"click\":_vm.addUser}},[_vm._v(\"添加\")])],1)],1),_vm._v(\" \"),_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.tableData,\"height\":_vm.tableH,\"size\":\"mini\",\"border\":\"\"}},[_c('el-table-column',{attrs:{\"label\":\"ID\",\"width\":\"80\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',{staticStyle:{\"margin-left\":\"10px\"}},[_vm._v(_vm._s(scope.row.id))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"账号\",\"show-overflow-tooltip\":\"\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',{staticStyle:{\"margin-left\":\"10px\"}},[_vm._v(_vm._s(scope.row.username))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"电话\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('i',{staticClass:\"el-icon-phone\"}),_vm._v(\" \"),_c('span',{staticStyle:{\"margin-left\":\"10px\"}},[_vm._v(_vm._s(scope.row.mobile))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"邮箱\",\"show-overflow-tooltip\":\"\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('i',{staticClass:\"el-icon-message\"}),_vm._v(\" \"),_c('span',{staticStyle:{\"margin-left\":\"10px\"}},[_vm._v(_vm._s(scope.row.email))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"操作\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"success\",\"icon\":\"el-icon-edit-outline\",\"title\":\"修改用户\"},nativeOn:{\"click\":function($event){$event.preventDefault();_vm.editUser(scope.$index, scope.row)}}}),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"danger\",\"size\":\"small\",\"icon\":\"el-icon-delete\",\"title\":\"删除用户\"},nativeOn:{\"click\":function($event){$event.preventDefault();_vm.handleDelete(scope.$index, scope.row, _vm.tableData)}}})]}}])})],1),_vm._v(\" \"),_c('el-pagination',{staticStyle:{\"float\":\"right\",\"margin-right\":\"5%\",\"margin-top\":\"10px\"},attrs:{\"current-page\":_vm.currentPage,\"page-size\":_vm.pageSize,\"layout\":\"total, prev, pager, next, jumper\",\"total\":_vm.total},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange,\"update:currentPage\":function($event){_vm.currentPage=$event}}}),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":_vm.title,\"visible\":_vm.dialogFormVisible,\"close-on-click-modal\":false,\"top\":\"8vh\",\"close-on-press-escape\":false,\"center\":\"\"},on:{\"update:visible\":function($event){_vm.dialogFormVisible=$event}}},[_c('el-form',{ref:\"ruleForm2\",staticClass:\"demo-ruleForm\",attrs:{\"model\":_vm.ruleForm2,\"status-icon\":\"\",\"rules\":_vm.rules2,\"label-width\":\"100px\"}},[_c('el-form-item',{attrs:{\"label\":\"账号\",\"prop\":\"username\"}},[_c('el-input',{attrs:{\"type\":\"text\",\"auto-complete\":\"off\"},model:{value:(_vm.ruleForm2.username),callback:function ($$v) {_vm.$set(_vm.ruleForm2, \"username\", $$v)},expression:\"ruleForm2.username\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"密码\",\"prop\":\"password\"}},[_c('el-input',{attrs:{\"type\":\"password\",\"auto-complete\":\"off\"},model:{value:(_vm.ruleForm2.password),callback:function ($$v) {_vm.$set(_vm.ruleForm2, \"password\", $$v)},expression:\"ruleForm2.password\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"电话\",\"prop\":\"mobile\"}},[_c('el-input',{attrs:{\"type\":\"mobile\",\"auto-complete\":\"off\"},model:{value:(_vm.ruleForm2.mobile),callback:function ($$v) {_vm.$set(_vm.ruleForm2, \"mobile\", $$v)},expression:\"ruleForm2.mobile\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"邮箱\",\"prop\":\"email\"}},[_c('el-input',{attrs:{\"type\":\"mobile\",\"auto-complete\":\"off\"},model:{value:(_vm.ruleForm2.email),callback:function ($$v) {_vm.$set(_vm.ruleForm2, \"email\", $$v)},expression:\"ruleForm2.email\"}})],1)],1),_vm._v(\" \"),_c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.addEditLoading),expression:\"addEditLoading\"}],staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{attrs:{\"type\":\"warning\"},on:{\"click\":function($event){_vm.dialogFormVisible=!_vm.dialogFormVisible}}},[_vm._v(\"取消编辑\")]),_vm._v(\" \"),(_vm.isUpdate == 1)?_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.submitForm('ruleForm2',1)}}},[_vm._v(\"保存数据\")]):_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.submitForm('ruleForm2',2, _vm.ruleForm2.id)}}},[_vm._v(\"修改数据\")])],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-091ec7be\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/UserManagement.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-091ec7be\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./UserManagement.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./UserManagement.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./UserManagement.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-091ec7be\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./UserManagement.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-091ec7be\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/UserManagement.vue\n// module id = null\n// module chunks = ","/**\r\n * Created by ZhouWei on 2017/12/28.\r\n */\r\n\r\n//校验输入字段\r\nvar validateUsername = (rule, value, callback) => {\r\n    if (value === '') {\r\n        callback(new Error('用户名不能为空'));\r\n    }else if (!/^([a-zA-Z\\u4e00-\\u9fa5\\.]){4,16}$/.test(value)) {\r\n        callback(new Error('只能输入4-16个中文、英文、.等字符'));\r\n    }else{\r\n        callback();\r\n    }\r\n};\r\n\r\nvar validateCaptcha = (rule, value, callback) => {  //4位验证码\r\n    if (value === '') {\r\n        callback(new Error('验证码不能为空!'));\r\n    }else if(!/^\\d{4}$/.test(value)){\r\n        callback(new Error('请输入正确的验证码!'));\r\n    } else {\r\n        callback();\r\n    }\r\n};\r\n\r\nvar validateCaptchaSix = (rule, value, callback) => { //6位验证码\r\n    if (value === '') {\r\n        callback(new Error('验证码不能为空!'));\r\n    }else if(!/^\\d{6}$/.test(value)){\r\n        callback(new Error('请输入正确的验证码!'));\r\n    } else {\r\n        callback();\r\n    }\r\n};\r\n\r\nvar validateName = (rule, value, callback) => {\r\n    if (value === '') {\r\n        callback(new Error('姓名不能为空'));\r\n    }else if (!/^[a-zA-Z\\u4e00-\\u9fa5]{2,20}$/.test(value)) {\r\n        callback(new Error('只能2-20个汉字或者英文'));\r\n    }else{\r\n        callback();\r\n    }\r\n};\r\nvar validateMobile = (rule, value, callback) => {\r\n    if (value === '') {\r\n        callback(new Error('手机不能为空'));\r\n    }else if (!(/^1[34578]\\d{9}$/.test(value))) {\r\n        callback(new Error('请正确填写您的手机号码'));\r\n    }else {\r\n        callback();\r\n    }\r\n};\r\n\r\nvar validatePassword = (rule, value, callback) => {\r\n    if (value === '') {\r\n        callback(new Error('密码不能为空'));\r\n    }else if (!(/^.{6,12}$/.test(value))) {\r\n        callback(new Error('6-12位密码'));\r\n    }else {\r\n        callback();\r\n    }\r\n};\r\n\r\nvar validateEmail = (rule, value, callback) => {\r\n    if (value === '') {\r\n        callback(new Error('邮箱不能为空'));\r\n    }else if (!(/^([\\w\\.\\-]+)@([\\w\\.\\-]+)\\.([\\w]{2,4})$/.test(value))) {\r\n        callback(new Error('邮箱格式不正确'));\r\n    }else {\r\n        callback();\r\n    }\r\n};\r\n\r\nexport {\r\n    validateUsername,\r\n    validateCaptcha,\r\n    validateCaptchaSix,\r\n    validateName,\r\n    validateMobile,\r\n    validatePassword,\r\n    validateEmail\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/assets/js/unifiedVerificationRule.js"],"sourceRoot":""}