{"version":3,"sources":["webpack:///src/components/UserManagement.vue","webpack:///./src/components/UserManagement.vue?3818","webpack:///./src/components/UserManagement.vue","webpack:///./src/assets/js/unifiedVerificationRule.js"],"names":["verRule","__webpack_require__","UserManagement","required","validator","validateUsername","trigger","validatePassword","validateMobile","validateEmail","pageSize","_this","this","then","id","res","message","err","_this2","clearValidate","_this3","username","mobile","email","_this4","ruleForm2","index","resetFields","_this5","pageNum","criteria","response","list","total","components_UserManagement","render","_vm","_h","$createElement","_c","_self","directives","name","rawName","value","expression","staticClass","staticStyle","height","margin-bottom","attrs","inline","size","width","float","placeholder","prefix-icon","on","change","onSubmit","model","callback","$$v","topSearchContent","_v","type","icon","click","addUser","data","tableData","tableH","border","label","scopedSlots","_u","key","fn","scope","margin-left","_s","row","show-overflow-tooltip","title","nativeOn","$event","preventDefault","editUser","$index","handleDelete","margin-right","margin-top","current-page","currentPage","page-size","layout","size-change","handleSizeChange","current-change","handleCurrentChange","update:currentPage","visible","dialogFormVisible","close-on-click-modal","top","close-on-press-escape","center","update:visible","ref","status-icon","rules","rules2","label-width","prop","auto-complete","$set","slot","isUpdate","submitForm","staticRenderFns","Component","normalizeComponent","ssrContext","__webpack_exports__","d","rule","Error","test","validateCaptcha","validateCaptchaSix","validateName"],"mappings":"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","file":"static/js/4.5e9bff9c8927ded4b36d.js","sourcesContent":["<template>\r\n    <div class=\"userManagement\" v-loading=\"userLoading\">\r\n        <el-form :inline=\"true\" size=\"small\" class=\"demo-form-inline\" style=\"height: 30px;margin-bottom: 10px\">\r\n            <el-input size=\"small\" placeholder=\"搜索用户\" prefix-icon=\"el-icon-search\" v-model=\"topSearchContent\"\r\n                      @change=\"onSubmit\"\r\n                      style=\"width: 300px; float: right\"></el-input>\r\n            <el-form-item>\r\n                <el-button  type=\"primary\" @click=\"addUser\" icon=\"el-icon-plus\">添加</el-button>\r\n            </el-form-item>\r\n        </el-form>\r\n\r\n        <el-table :data=\"tableData\" :height=\"tableH\" size=\"mini\"\r\n                  border\r\n                  style=\"width:100%;\">\r\n            <el-table-column label=\"ID\" width=\"80\">\r\n                <template slot-scope=\"scope\">\r\n                    <span style=\"margin-left: 10px\">{{ scope.row.id }}</span>\r\n                </template>\r\n            </el-table-column>\r\n            <el-table-column label=\"账号\" show-overflow-tooltip>\r\n                <template slot-scope=\"scope\">\r\n                    <span style=\"margin-left: 10px\">{{ scope.row.username }}</span>\r\n                </template>\r\n            </el-table-column>\r\n            <el-table-column label=\"电话\">\r\n                <template slot-scope=\"scope\">\r\n                    <i class=\"el-icon-phone\"></i>\r\n                    <span style=\"margin-left: 10px\">{{ scope.row.mobile }}</span>\r\n                </template>\r\n            </el-table-column>\r\n            <el-table-column label=\"邮箱\" show-overflow-tooltip>\r\n                <template slot-scope=\"scope\">\r\n                    <i class=\"el-icon-message\"></i>\r\n                    <span style=\"margin-left: 10px\">{{ scope.row.email}}</span>\r\n                </template>\r\n            </el-table-column>\r\n            <el-table-column label=\"操作\">\r\n                <template slot-scope=\"scope\">\r\n                    <el-button size=\"small\" type=\"success\" icon=\"el-icon-edit-outline\"\r\n                               @click.native.prevent=\"editUser(scope.$index, scope.row)\"\r\n                               title=\"修改用户\"></el-button>\r\n                    <el-button type=\"danger\" size=\"small\" icon=\"el-icon-delete\"\r\n                               @click.native.prevent=\"handleDelete(scope.$index, scope.row, tableData)\"\r\n                               title=\"删除用户\"></el-button>\r\n                </template>\r\n            </el-table-column>\r\n        </el-table>\r\n        <!--分页-->\r\n        <el-pagination style=\"float: right;margin-right: 5%;margin-top: 10px;\"\r\n                       @size-change=\"handleSizeChange\"\r\n                       @current-change=\"handleCurrentChange\"\r\n                       :current-page.sync=\"currentPage\"\r\n                       :page-size=\"pageSize\"\r\n                       layout=\"total, prev, pager, next, jumper\"\r\n                       :total=\"total\">\r\n        </el-pagination>\r\n        <!--添加和编辑dialog-->\r\n        <el-dialog :title=\"title\" :visible.sync=\"dialogFormVisible\"\r\n                   :close-on-click-modal=\"false\" top=\"8vh\"\r\n                   :close-on-press-escape=\"false\" center>\r\n            <el-form :model=\"ruleForm2\" status-icon :rules=\"rules2\" ref=\"ruleForm2\" label-width=\"100px\"\r\n                     class=\"demo-ruleForm\">\r\n                <el-form-item label=\"账号\" prop=\"username\">\r\n                    <el-input type=\"text\" v-model=\"ruleForm2.username\" auto-complete=\"off\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"密码\" prop=\"password\">\r\n                    <el-input type=\"password\" v-model=\"ruleForm2.password\" auto-complete=\"off\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"电话\" prop=\"mobile\">\r\n                    <el-input type=\"mobile\" v-model=\"ruleForm2.mobile\" auto-complete=\"off\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"邮箱\" prop=\"email\">\r\n                    <el-input type=\"mobile\" v-model=\"ruleForm2.email\" auto-complete=\"off\"></el-input>\r\n                </el-form-item>\r\n            </el-form>\r\n            <div slot=\"footer\" class=\"dialog-footer\" v-loading=\"addEditLoading\">\r\n                <el-button type=\"warning\" @click=\"dialogFormVisible=!dialogFormVisible\">取消编辑</el-button>\r\n                <el-button type=\"primary\" @click=\"submitForm('ruleForm2',1)\" v-if=\"isUpdate == 1\">保存数据</el-button>\r\n                <el-button type=\"primary\" @click=\"submitForm('ruleForm2',2, ruleForm2.id)\" v-else>修改数据</el-button>\r\n            </div>\r\n        </el-dialog>\r\n    </div>\r\n</template>\r\n<script type=\"text/ecmascript-6\">\r\n    let verRule = require('./../assets/js/unifiedVerificationRule');\r\n    export default {\r\n        data() {\r\n            //校验输入字段\r\n            return {\r\n                topSearchContent: \"\",\r\n                userLoading: false,\r\n                addEditLoading: false,\r\n                tableData: [],\r\n                dialogFormVisible: false,\r\n                isUpdate: 1,\r\n                index: 1,\r\n                title: '',\r\n                currentPage: 1, //当前页码\r\n                pageSize: 10, //默认每页数据量\r\n                total: 0, //默认数据总数\r\n                ruleForm2: {\r\n                    username: '',\r\n                    password: '',\r\n                    mobile: '',\r\n                    email:''\r\n                },\r\n                rules2: {\r\n                    username: [\r\n                        {required: true, validator: verRule.validateUsername, trigger: 'blur'}\r\n                    ],\r\n                    password: [\r\n                        {required: true, validator: verRule.validatePassword, trigger: 'blur'}\r\n                    ],\r\n                    mobile: [\r\n                        {required: true, validator: verRule.validateMobile, trigger: 'blur'}\r\n                    ],\r\n                    email: [\r\n                        {required: true,validator: verRule.validateEmail,trigger: 'blur'}\r\n                    ]\r\n                }\r\n            }\r\n        },\r\n        computed: {\r\n            tableH() {\r\n                return document.documentElement.clientHeight - 300;\r\n            }\r\n        },\r\n        methods: {\r\n            onSubmit() {\r\n                if(this.currentPage ==1){\r\n                    this.loadData(this.topSearchContent, this.currentPage, this.pageSize);\r\n                }else{\r\n                    this.currentPage = 1;\r\n                }\r\n            },\r\n            //分页\r\n            handleSizeChange(val) {\r\n                this.loadData(this.topSearchContent, val, this.pageSize);\r\n            },\r\n            handleCurrentChange(val) {\r\n                this.loadData(this.topSearchContent, val, this.pageSize);\r\n            },\r\n            //删除\r\n            handleDelete(index, row, rows) {\r\n                this.$confirm('确定要删除这条记录吗？', '提示', {\r\n                    confirmButtonText: '确定',\r\n                    cancelButtonText: '取消',\r\n                    type: 'warning'\r\n                }).then(() => {\r\n                    this.$http.post('/user/delUser',{\r\n                        id:row.id\r\n                    }).then((res) => {\r\n                        if (res.data.code === 200) {\r\n                            this.loadData(this.topSearchContent, this.currentPage, this.pageSize);\r\n                            this.$message.success(res.data.message);\r\n                        } else {\r\n                            this.$message.error(res.data.message);\r\n                        }\r\n                    }).catch((err) => {\r\n                        console.log(err);\r\n                    });\r\n                }).catch((err) => {\r\n                    console.log(err);\r\n                });\r\n            },\r\n            addUser() {\r\n                this.title = \"添加用户\";\r\n                this.dialogFormVisible = true;\r\n                this.isUpdate = 1;\r\n                this.ruleForm2 = {\r\n                    username: '',\r\n                    mobile: '',\r\n                    password: '',\r\n                    email:''\r\n                };\r\n                this.$nextTick(()=>{\r\n                    this.$refs['ruleForm2'].clearValidate();\r\n                });\r\n            },\r\n            editUser(index, row) {\r\n                this.title = \"修改用户\";\r\n                this.isUpdate = 2;\r\n                this.index=row.id;\r\n                this.ruleForm2 = {\r\n                    username: row.username,\r\n                    mobile: row.mobile,\r\n                    password: '',\r\n                    email:row.email\r\n                };\r\n                this.$nextTick(()=>{\r\n                    this.$refs['ruleForm2'].clearValidate();\r\n                });\r\n                this.dialogFormVisible = true;\r\n            },\r\n            //修改或者添加用户提交表单\r\n            submitForm(formName, type, id) {\r\n                var url = '',methods;\r\n                this.addEditLoading = true;\r\n                this.$refs[formName].validate((valid) => {\r\n                    if (valid) {\r\n                        let data = Object.assign(this.ruleForm2);\r\n                        if (type === 1) {\r\n                            url = '/user/addUser';\r\n                            methods=\"post\";\r\n                        } else {\r\n                            data.id = this.index;\r\n                            url = '/user/editUser';\r\n                            methods=\"post\";\r\n                        }\r\n                        this.$http.post(url,data).then((res) => {\r\n                            this.addEditLoading = false;\r\n                            if (res.data.code === 200) {\r\n                                this.$message.success(res.data.message);\r\n                                this.dialogFormVisible = false;\r\n                                this.loadData(this.topSearchContent, this.currentPage, this.pageSize);\r\n                            } else {\r\n                                this.$message.info(res.data.message);\r\n                            }\r\n                        }).catch((err) => {\r\n                            this.$refs[formName].resetFields();\r\n                            this.addEditLoading = false;\r\n                        });\r\n                    } else {\r\n                        this.addEditLoading = false;\r\n                        return false;\r\n                    }\r\n                });\r\n            },\r\n            //从服务器读取数据\r\n            loadData(criteria, pageNum, pageSize) {\r\n                this.userLoading = true;\r\n                this.$http.post(\"/user/list\",{\r\n                    pageSize:pageSize,\r\n                    pageNum:pageNum,\r\n                    search:criteria,\r\n                }).then((response) => {\r\n                    if (response.data.code === 200) {\r\n                        this.tableData = response.data.data.list;\r\n                        this.total = response.data.data.total;\r\n                    } else {\r\n                        this.total = 0;\r\n                        this.tableData = [];\r\n                        this.$message.info(response.data.message);\r\n                    }\r\n                    this.userLoading = false;\r\n                }).catch((err) => {\r\n                    console.log(err);\r\n                    this.userLoading = false;\r\n                })\r\n            }\r\n        },\r\n        mounted() {\r\n            this.loadData(this.topSearchContent, this.currentPage, this.pageSize);\r\n        }\r\n    }\r\n</script>\r\n<style scoped lang=\"scss\">\r\n    .userManagement {\r\n        margin-top: 10px;\r\n    }\r\n</style>\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/UserManagement.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.userLoading),expression:\"userLoading\"}],staticClass:\"userManagement\"},[_c('el-form',{staticClass:\"demo-form-inline\",staticStyle:{\"height\":\"30px\",\"margin-bottom\":\"10px\"},attrs:{\"inline\":true,\"size\":\"small\"}},[_c('el-input',{staticStyle:{\"width\":\"300px\",\"float\":\"right\"},attrs:{\"size\":\"small\",\"placeholder\":\"搜索用户\",\"prefix-icon\":\"el-icon-search\"},on:{\"change\":_vm.onSubmit},model:{value:(_vm.topSearchContent),callback:function ($$v) {_vm.topSearchContent=$$v},expression:\"topSearchContent\"}}),_vm._v(\" \"),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-plus\"},on:{\"click\":_vm.addUser}},[_vm._v(\"添加\")])],1)],1),_vm._v(\" \"),_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.tableData,\"height\":_vm.tableH,\"size\":\"mini\",\"border\":\"\"}},[_c('el-table-column',{attrs:{\"label\":\"ID\",\"width\":\"80\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',{staticStyle:{\"margin-left\":\"10px\"}},[_vm._v(_vm._s(scope.row.id))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"账号\",\"show-overflow-tooltip\":\"\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',{staticStyle:{\"margin-left\":\"10px\"}},[_vm._v(_vm._s(scope.row.username))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"电话\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('i',{staticClass:\"el-icon-phone\"}),_vm._v(\" \"),_c('span',{staticStyle:{\"margin-left\":\"10px\"}},[_vm._v(_vm._s(scope.row.mobile))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"邮箱\",\"show-overflow-tooltip\":\"\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('i',{staticClass:\"el-icon-message\"}),_vm._v(\" \"),_c('span',{staticStyle:{\"margin-left\":\"10px\"}},[_vm._v(_vm._s(scope.row.email))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"操作\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"success\",\"icon\":\"el-icon-edit-outline\",\"title\":\"修改用户\"},nativeOn:{\"click\":function($event){$event.preventDefault();_vm.editUser(scope.$index, scope.row)}}}),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"danger\",\"size\":\"small\",\"icon\":\"el-icon-delete\",\"title\":\"删除用户\"},nativeOn:{\"click\":function($event){$event.preventDefault();_vm.handleDelete(scope.$index, scope.row, _vm.tableData)}}})]}}])})],1),_vm._v(\" \"),_c('el-pagination',{staticStyle:{\"float\":\"right\",\"margin-right\":\"5%\",\"margin-top\":\"10px\"},attrs:{\"current-page\":_vm.currentPage,\"page-size\":_vm.pageSize,\"layout\":\"total, prev, pager, next, jumper\",\"total\":_vm.total},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange,\"update:currentPage\":function($event){_vm.currentPage=$event}}}),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":_vm.title,\"visible\":_vm.dialogFormVisible,\"close-on-click-modal\":false,\"top\":\"8vh\",\"close-on-press-escape\":false,\"center\":\"\"},on:{\"update:visible\":function($event){_vm.dialogFormVisible=$event}}},[_c('el-form',{ref:\"ruleForm2\",staticClass:\"demo-ruleForm\",attrs:{\"model\":_vm.ruleForm2,\"status-icon\":\"\",\"rules\":_vm.rules2,\"label-width\":\"100px\"}},[_c('el-form-item',{attrs:{\"label\":\"账号\",\"prop\":\"username\"}},[_c('el-input',{attrs:{\"type\":\"text\",\"auto-complete\":\"off\"},model:{value:(_vm.ruleForm2.username),callback:function ($$v) {_vm.$set(_vm.ruleForm2, \"username\", $$v)},expression:\"ruleForm2.username\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"密码\",\"prop\":\"password\"}},[_c('el-input',{attrs:{\"type\":\"password\",\"auto-complete\":\"off\"},model:{value:(_vm.ruleForm2.password),callback:function ($$v) {_vm.$set(_vm.ruleForm2, \"password\", $$v)},expression:\"ruleForm2.password\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"电话\",\"prop\":\"mobile\"}},[_c('el-input',{attrs:{\"type\":\"mobile\",\"auto-complete\":\"off\"},model:{value:(_vm.ruleForm2.mobile),callback:function ($$v) {_vm.$set(_vm.ruleForm2, \"mobile\", $$v)},expression:\"ruleForm2.mobile\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"邮箱\",\"prop\":\"email\"}},[_c('el-input',{attrs:{\"type\":\"mobile\",\"auto-complete\":\"off\"},model:{value:(_vm.ruleForm2.email),callback:function ($$v) {_vm.$set(_vm.ruleForm2, \"email\", $$v)},expression:\"ruleForm2.email\"}})],1)],1),_vm._v(\" \"),_c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.addEditLoading),expression:\"addEditLoading\"}],staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{attrs:{\"type\":\"warning\"},on:{\"click\":function($event){_vm.dialogFormVisible=!_vm.dialogFormVisible}}},[_vm._v(\"取消编辑\")]),_vm._v(\" \"),(_vm.isUpdate == 1)?_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.submitForm('ruleForm2',1)}}},[_vm._v(\"保存数据\")]):_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.submitForm('ruleForm2',2, _vm.ruleForm2.id)}}},[_vm._v(\"修改数据\")])],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.0@vue-loader/lib/template-compiler?{\"id\":\"data-v-091ec7be\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.0@vue-loader/lib/selector.js?type=template&index=0!./src/components/UserManagement.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/_vue-loader@13.7.0@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-091ec7be\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/_vue-loader@13.7.0@vue-loader/lib/selector?type=styles&index=0!./UserManagement.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/_vue-loader@13.7.0@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/_vue-loader@13.7.0@vue-loader/lib/selector?type=script&index=0!./UserManagement.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/_vue-loader@13.7.0@vue-loader/lib/selector?type=script&index=0!./UserManagement.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/_vue-loader@13.7.0@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-091ec7be\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/_vue-loader@13.7.0@vue-loader/lib/selector?type=template&index=0!./UserManagement.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-091ec7be\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/UserManagement.vue\n// module id = null\n// module chunks = ","/**\r\n * Created by ZhouWei on 2017/12/28.\r\n */\r\n\r\n//校验输入字段\r\nvar validateUsername = (rule, value, callback) => {\r\n    if (value === '') {\r\n        callback(new Error('用户名不能为空'));\r\n    }else if (!/^([a-zA-Z\\u4e00-\\u9fa5\\.]){4,16}$/.test(value)) {\r\n        callback(new Error('只能输入4-16个中文、英文、.等字符'));\r\n    }else{\r\n        callback();\r\n    }\r\n};\r\n\r\nvar validateCaptcha = (rule, value, callback) => {  //4位验证码\r\n    if (value === '') {\r\n        callback(new Error('验证码不能为空!'));\r\n    }else if(!/^\\d{4}$/.test(value)){\r\n        callback(new Error('请输入正确的验证码!'));\r\n    } else {\r\n        callback();\r\n    }\r\n};\r\n\r\nvar validateCaptchaSix = (rule, value, callback) => { //6位验证码\r\n    if (value === '') {\r\n        callback(new Error('验证码不能为空!'));\r\n    }else if(!/^\\d{6}$/.test(value)){\r\n        callback(new Error('请输入正确的验证码!'));\r\n    } else {\r\n        callback();\r\n    }\r\n};\r\n\r\nvar validateName = (rule, value, callback) => {\r\n    if (value === '') {\r\n        callback(new Error('姓名不能为空'));\r\n    }else if (!/^[a-zA-Z\\u4e00-\\u9fa5]{2,20}$/.test(value)) {\r\n        callback(new Error('只能2-20个汉字或者英文'));\r\n    }else{\r\n        callback();\r\n    }\r\n};\r\nvar validateMobile = (rule, value, callback) => {\r\n    if (value === '') {\r\n        callback(new Error('手机不能为空'));\r\n    }else if (!(/^1[34578]\\d{9}$/.test(value))) {\r\n        callback(new Error('请正确填写您的手机号码'));\r\n    }else {\r\n        callback();\r\n    }\r\n};\r\n\r\nvar validatePassword = (rule, value, callback) => {\r\n    if (value === '') {\r\n        callback(new Error('密码不能为空'));\r\n    }else if (!(/^.{6,12}$/.test(value))) {\r\n        callback(new Error('6-12位密码'));\r\n    }else {\r\n        callback();\r\n    }\r\n};\r\n\r\nvar validateEmail = (rule, value, callback) => {\r\n    if (value === '') {\r\n        callback(new Error('邮箱不能为空'));\r\n    }else if (!(/^([\\w\\.\\-]+)@([\\w\\.\\-]+)\\.([\\w]{2,4})$/.test(value))) {\r\n        callback(new Error('邮箱格式不正确'));\r\n    }else {\r\n        callback();\r\n    }\r\n};\r\n\r\nexport {\r\n    validateUsername,\r\n    validateCaptcha,\r\n    validateCaptchaSix,\r\n    validateName,\r\n    validateMobile,\r\n    validatePassword,\r\n    validateEmail\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/assets/js/unifiedVerificationRule.js"],"sourceRoot":""}